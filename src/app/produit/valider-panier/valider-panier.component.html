
<app-navbar-produit> </app-navbar-produit>
<div class="container-fluid" style="padding-top: 100px; background-color: #E3EBD0;">
    <h2 style="text-align: center;"> Valider Paiement </h2>
    <div>
        <div class="container" style="background-color:aliceblue; border-radius: 2%;">

            <form [formGroup]="validerPanierFormGroup" (ngSubmit)="onSubmit()">
            
                <div formGroupName="client" class="form-area">
                    <h3>Client</h3>

                    <div class="row">
                        <div class="col-md-2">
                            <label >Nom</label>
                        </div>
                        <div class="input-space">
                            <input type="text" formControlName="nom" class="form-control" placeholder="Nom">
                            <div *ngIf="nom.invalid && (nom.dirty || nom.touched)" class="alert alert-danger mt-1">
                                <div *ngIf="nom.errors['required']">
                                    Nom est obligatoire
                                </div>
                                <div *ngIf="nom.errors['minlength']">
                                    il faut minimun 3 caractères
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-2">
                            <label >Prenom</label>
                        </div>
                        <div class="input-space">
                            <input type="text" formControlName="prenom" class="form-control" placeholder="prenom">
                            <div *ngIf="prenom.invalid && (prenom.dirty || prenom.touched)" class="alert alert-danger mt-1">
                                <div *ngIf="prenom.errors['required']">
                                    Prenom est obligatoire
                                </div>
                                <div *ngIf="prenom.errors['minlength']">
                                    il faut minimun 3 caractères
                                </div>
                            </div>
                        
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-2">
                            <label >Email</label>
                        </div>
                        <div class="input-space">
                            <input type="email" formControlName="email" class="form-control" placeholder="email">
                            <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger mt-1">
                                <div *ngIf="email.errors['required']">
                                    Prenom est obligatoire
                                </div>
                                <div *ngIf="email.errors['pattern']">
                                    respectez le format aaa@xyz.bbb
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-2">
                            <label >Adresse Livraison</label>
                        </div>
                        <div class="input-space">
                            <input type="text" formControlName="adresse" class="form-control" placeholder="adresse">
                            <div *ngIf="prenom.invalid && (prenom.dirty || prenom.touched)" class="alert alert-danger mt-1">
                                <div *ngIf="prenom.errors['required']">
                                    l'adresse est obligatoire
                                </div>
                                <div *ngIf="prenom.errors['minlength']">
                                    il faut minimun 4 caractères
                                </div>
                            </div>
                        </div>
                    </div>


                </div>

                <!-------- info carte de crédit -->
                    <!---------Stripe element sexion carte de credit -->

                    <div formGroupName="carteDeCredit" class="form-area">
                        <h3>Carte de Credit</h3>
                        <div id="card-element">
                            <!----- a Stripe element sront insérer ici ---->

                        </div>
                      
                        <!-------- affichage derreur ici-------->
                        <div id="card-errors" class="displayError.textContent!=='': 'alert alert-danger mt-l' ">

                        </div>
                    </div>

                        <!--------------- Detail Commande --->
                        <div class="form-are">
                            <h3>Recap de la Commande </h3>
                            <p>Quatntite Total : {{ quantiteTotal }}</p>
                            <p>Prix Total : {{ prixTotal | currency:'TND':'symbol':'1.3-3' }}</p>
                        </div>

                <!------- bouton de validation -->
                <div class="text-center">
                    <button type="submit" class="btn btn-info"> Valider</button>
                </div>
               
        </form>
        
    </div>
    <div>
        
    </div>
</div>


<app-footer></app-footer>