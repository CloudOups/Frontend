<app-navbar></app-navbar>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="tab-content">
        <div class="tab-pane fade show active" id="nav-Court" role="tabpanel" aria-labelledby="nav-Court-tab" tabindex="0">
          <div class="table-responsive dashboard-table-responsive">
            <table class="table table-striped table-bordered">
              <thead class="thead-dark">
                <tr>
                  <th>Nom Tournoi</th>
                  <th>Date debut et fin </th>
                  <th>Récompense</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let tournoi of listtournois">
                  <td>
                    <div class="academy-info">
                      <a href="#" class="academy-img">
                        <img src="assets/img/booking/booking-02.jpg" alt="Booking">
                      </a>
                      <div class="academy-content">
                        <h6><a href="#" data-bs-toggle="modal" data-bs-target="#upcoming-court">{{ tournoi.nomTournoi }}</a></h6>
                        <span>{{ tournoi.nomTournoi }}</span>
                        <ul>
                          <li>Nombre d'équipes: {{ tournoi.nbEquipes }}</li>
                        </ul>
                      </div>
                    </div>
                  </td>
                  <td>
                    <h6>Date & Time</h6>
                    <p>{{ tournoi.dateDebut }}</p>
                    <p>{{ tournoi.dateFin }}</p>
                  </td>
                  <td>
                    <h4>{{ tournoi.recompense }}</h4>
                  </td>
                  <td>
                    <button class="btn btn-outline-success" [routerLink]="['/detailtournoi', tournoi.numTournoi]">Voir plus</button>
                    <button class="btn btn-outline-success" [routerLink]="['/updatetournoi', tournoi.numTournoi]">Jouer</button>
                    <div class="dropdown dropdown-action">
                      <a href="#" class="action-icon dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis"></i></a>
                      <div class="dropdown-menu dropdown-menu-end">
                        <a class="dropdown-item" href="javascript:void(0);"><i class="feather-x-circle"></i> Annuler</a>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- Pagination -->
          <div class="row justify-content-center">
            <div class="col-auto">
              <button class="btn btn-secondary" (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 0">Previous</button>
            </div>
            <div class="col-auto">
              <ng-container *ngFor="let page of totalPagesArray">
                <button class="btn btn-secondary" (click)="goToPage(page - 1)" [class.active]="currentPage === page - 1">{{ page }}</button>
              </ng-container>
            </div>
            <div class="col-auto">
              <button class="btn btn-secondary" (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages - 1">Next</button>
            </div>
          </div>
          <!-- End Pagination -->
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card booking-details  border-success">
        <h3 class="border-bottom">Event Details</h3>
        <div class="text-center">
          <img [src]="'http://localhost:4200/assets/img/events/'+ event.image" alt="imageevent" style="max-width: 200px; max-height: 200px;" >
        </div>      
        <ul>
          <li><i class="fa-regular fa-building me-2"></i>nom de l'evenement : {{ event.nomevent }}</li>
          <li><i class="fa-regular fa-building me-2"></i>l'emplacement : {{ event.location }}</li>
          <li><i class="feather-calendar me-2"></i>Date de début : {{ event.dateDebut | date: 'short' }}</li>
        </ul>
        <div class="d-grid btn-block">
          <button class="btn btn-primary" (click)="participateEvent(event.numevent)">Participer à l'événement</button>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
